function outputAlert(t){t.prepend('<div class="alert"><p>There is currently nobody in your phone book. Please use the manage contacts form to insert new contacts into your phone book.</p></div>')}function outputEntries(t){var e=[],o;for(t.empty(),o=0;o<localStorage.length;o++)e[o]=JSON.parse(localStorage.getItem(localStorage.key(o)))||null;for(e.sort(function(t,e){var o=t.contactLastName.toLowerCase(),a=e.contactLastName.toLowerCase();return o>a?1:a>o?-1:0}),o=0;o<e.length;o++)t.append('<article id="entry'+o+'" class="entry"><h2>'+e[o].contactFirstName+" "+e[o].contactLastName+"</h2><p>"+e[o].contactPhone+'</p><button class="button-delete" type="button"><span class="is-hidden-accessible">Delete</span></button></article>');$(".button-delete").on("click",function(e){e.preventDefault(),localStorage.removeItem($(this).parent("article").attr("id")),$(this).parent("article").remove(),0===localStorage.length&&outputAlert(t)})}function buildPhoneBook(){if(localStorage){var t=$("#contactForm"),e=t.find("input"),o={},a=0,n=$(".contact-view"),l;localStorage.length?outputEntries(n):outputAlert(n),$("#buttonClear").on("click",function(){localStorage.clear(),n.empty(),a=0,outputAlert(n)}),$(t).submit(function(t){for(t.preventDefault(),l=0;l<e.length;l++)o[$(e[l]).attr("id")]=$(e[l]).val();e.val(""),null!==localStorage.key(localStorage.length-1)&&(a=parseInt(localStorage.key(localStorage.length-1).replace("entry",""))+1),localStorage.setItem("entry"+a,JSON.stringify(o)),outputEntries(n)})}}$(document).ready(function(){buildPhoneBook()});